---
fcrepo_required_java_version: '1.8'
fcrepo_minimum_heap_size:      1024
fcrepo_maximum_heap_size:      2048
# TODO: /mnt/data/fcrepo
fcrepo_home:            "/etc/fcrepo/data"
fcrepo_config_dir:      "/etc/fcrepo"
fcrepo_log_dir:         "/var/log/fcrepo"
fcrepo_major_version:   4
fcrepo_version:         '4.7.5'
fcrepo_download_url:    "https://github.com/fcrepo{{ fcrepo_major_version }}/fcrepo{{ fcrepo_major_version }}/releases/download/fcrepo-{{ fcrepo_version }}/fcrepo-webapp-{{ fcrepo_version }}.war"
fcrepo_checksum_algo:   "sha1"
fcrepo_checksum_url:    "{{ fcrepo_download_url }}.{{ fcrepo_checksum_algo }}"
fcrepo_user:            "{{ tomcat_user | default('tomcat') }}"
fcrepo_download_dir:    "{{ download_dir | default(ansible_env.HOME) }}"
fcrepo_catalina_home:   "/usr/share/tomcat8"
fcrepo_catalina_base:   "/var/lib/tomcat8"
fcrepo_webapps_dir:     "{{ catalina_base }}/webapps"
fcrepo_java_opts:       "-Djava.awt.headless=true
                        -Dfile.encoding=UTF-8
                        -Dfcrepo.home={{ fcrepo_home }}
                        -Dfcrepo.modeshape.configuration=classpath:/config/file-simple/repository.json
                        -Dlogback.configurationFile={{ fcrepo_config_dir }}/logback.xml
                        -XX:+UseConcMarkSweepGC
                        -XX:+CMSClassUnloadingEnabled
                        -XX:ConcGCThreads=5
                        -XX:MaxGCPauseMillis=200
                        -XX:ParallelGCThreads=20
                        -XX:MaxMetaspaceSize=512M
                        -Xms{{ minimum_heap_size }}m
                        -Xmx{{ maximum_heap_size }}m"
fcrepo_catalina_opts:   "-server"
